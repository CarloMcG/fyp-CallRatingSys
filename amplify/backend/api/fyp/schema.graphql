type User @model @key(name: "byPlan", fields: ["planmodelID"]) @auth(rules: [{allow: public}]) {
  id: ID!
  Name: String!
  PhoneNum: Int!
  AccountType: String!
  Plan: ID!
  UserModelPlanModels: Plan @connection
  CallModels: [Call] @connection(keyName: "byUser", fields: ["id"])
  planmodelID: ID
}

type Call @model @key(name: "byUser", fields: ["usermodelID"]) @key(name: "byPlan", fields: ["planmodelID"]) @auth(rules: [{allow: public}]) {
  id: ID!
  NumCalling: Int!
  NumCalled: Int!
  StartTime: AWSTime!
  EndTime: AWSDateTime!
  CallType: String!
  Cost: Float!
  usermodelID: ID
  planmodelID: ID
}

type Plan @model @auth(rules: [{allow: public}]) {
  id: ID!
  planType: String!
  mobileMinutes: Int!
  mobileRate: Float!
  landlineMinutes: Int!
  landlineRate: Float!
  internationalMinutes: Int!
  internationalRate: Float!
  premiumMinutes: Int!
  premiumRate: Float!
  UserModels: [User] @connection(keyName: "byPlan", fields: ["id"])
  CallModels: [Call] @connection(keyName: "byPlan", fields: ["id"])
  costPerMonth: Float!
}
 